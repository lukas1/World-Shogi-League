<template name="matches">
    <div class="container matches_container">
        <div class="page-header">
            <h1>Matches</h1>
        </div>

        <ul class="list-unstyled">
            <li class="block-header clearfix row">
                <div class="col-xs-6">
                    <h2>Block A</h2>
                </div>
                <div class="col-xs-5">
                    <h2>Block B</h2>
                </div>
                <div class="col-xs-1">
                </div>
            </li>
            {{#each rounds}}
                <li class="block-header clearfix">
                    <div class="col-xs-6">
                        Round {{roundNumber}}
                    </div>

                    <div class="col-xs-5">
                    </div>
                    <div class="col-xs-1">
                        {{#if isAdmin}}
                            {{#if last}}
                            <button class="delete rounddelete" id="round{{_id}}">
                                &times;
                            </button>
                            {{/if}}
                        {{/if}}
                    </div>
                </li>
            {{/each}}
            {{#each matches}}
            {{> match}}
            {{/each}}
        </ul>
        {{#if isAdmin}}
            <div>
                {{#if inMiddleOfRound}}
                    <button class="btn btn-default" id="startRound">
                        Start new round
                    </button>
                {{else}}
                    <button class="btn btn-default" id="finishRound">
                        Finish round
                    </button>
                {{/if}}
            </div>
        {{/if}}
        {{#if isAdmin}}
            {{#if canAddMatch}}
            <strong>New match:</strong>
            <form id="new-match-form">
                <div class="col-xs-6">
                    {{> teams block="A"}}
                    <div class="wonRadio">
                        <input type="radio" id="wonA" name="won" value="wonA">
                        <label for="wonA">Won?</label>
                    </div>
                </div>
                <div class="col-xs-5">
                    {{> teams block="B"}}
                    <div class="wonRadio">
                        <input type="radio" id="wonB" name="won" value="wonB">
                        <label for="wonB">Won?</label>
                    </div>
                    <div class="defaultWinBox">
                        <input type="checkbox" id="defaultWin">
                        <label for="defaultWin">Default win?</label>
                    </div>
                </div>
                <div class="col-xs-1">
                    <input type="submit" value="Submit" class="btn btn-default">
                </div>
            </form>
            {{/if}}
        {{/if}}
    </div>
</template>
